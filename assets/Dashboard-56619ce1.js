import{r as l,R as S,f as he,j as e,L as Pe}from"./index-565df7a8.js";import{G as Ie,a as De,F as _e,L as Le,b as G}from"./Layout-1f641c7f.js";import{m as ge}from"./myContext-755992e1.js";import"./index-bea2a320-8c0c8ce8.js";import{T as ye}from"./table-643afc6e.js";import{g as Ee}from"./index.esm2017-dfb43fad.js";import Re from"./Loader-a29d2784.js";import{c as W,f as q,g as J}from"./FirebaseConfig-f1ddf40d.js";function ee(t){return r=>!!r.type&&r.type.tabsRole===t}const H=ee("Tab"),te=ee("TabList"),se=ee("TabPanel");function Ue(t){return H(t)||te(t)||se(t)}function Z(t,r){return l.Children.map(t,s=>s===null?null:Ue(s)?r(s):s.props&&s.props.children&&typeof s.props.children=="object"?l.cloneElement(s,{...s.props,children:Z(s.props.children,r)}):s)}function je(t,r){return l.Children.forEach(t,s=>{s!==null&&(H(s)||se(s)?r(s):s.props&&s.props.children&&typeof s.props.children=="object"&&(te(s)&&r(s),je(s.props.children,r)))})}function Ne(t){var r,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(s=Ne(t[r]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function z(){for(var t,r,s=0,n="",i=arguments.length;s<i;s++)(t=arguments[s])&&(r=Ne(t))&&(n&&(n+=" "),n+=r);return n}function ve(t){let r=0;return je(t,s=>{H(s)&&r++}),r}function Ce(t){return t&&"getAttribute"in t}function pe(t){return Ce(t)&&t.getAttribute("data-rttab")}function _(t){return Ce(t)&&t.getAttribute("aria-disabled")==="true"}let M;function $e(t){const r=t||(typeof window<"u"?window:void 0);try{M=!!(typeof r<"u"&&r.document&&r.document.activeElement)}catch{M=!1}}const Ae={className:"react-tabs",focus:!1},we=t=>{let r=l.useRef([]),s=l.useRef([]);const n=l.useRef();function i(a,o){if(a<0||a>=p())return;const{onSelect:g,selectedIndex:L}=t;g(a,L,o)}function d(a){const o=p();for(let g=a+1;g<o;g++)if(!_(x(g)))return g;for(let g=0;g<a;g++)if(!_(x(g)))return g;return a}function u(a){let o=a;for(;o--;)if(!_(x(o)))return o;for(o=p();o-- >a;)if(!_(x(o)))return o;return a}function f(){const a=p();for(let o=0;o<a;o++)if(!_(x(o)))return o;return null}function h(){let a=p();for(;a--;)if(!_(x(a)))return a;return null}function p(){const{children:a}=t;return ve(a)}function x(a){return r.current[`tabs-${a}`]}function y(){let a=0;const{children:o,disabledTabClassName:g,focus:L,forceRenderTabPanel:j,selectedIndex:w,selectedTabClassName:T,selectedTabPanelClassName:de,environment:ie}=t;s.current=s.current||[];let Te=s.current.length-p();const Se=l.useId();for(;Te++<0;)s.current.push(`${Se}${s.current.length}`);return Z(o,D=>{let K=D;if(te(D)){let k=0,ue=!1;M==null&&$e(ie);const fe=ie||(typeof window<"u"?window:void 0);M&&fe&&(ue=S.Children.toArray(D.props.children).filter(H).some((xe,Q)=>fe.document.activeElement===x(Q))),K=l.cloneElement(D,{children:Z(D.props.children,xe=>{const Q=`tabs-${k}`,me=w===k,V={tabRef:ke=>{r.current[Q]=ke},id:s.current[k],selected:me,focus:me&&(L||ue)};return T&&(V.selectedClassName=T),g&&(V.disabledClassName=g),k++,l.cloneElement(xe,V)})})}else if(se(D)){const k={id:s.current[a],selected:w===a};j&&(k.forceRender=j),de&&(k.selectedClassName=de),a++,K=l.cloneElement(D,k)}return K})}function c(a){const{direction:o,disableUpDownKeys:g,disableLeftRightKeys:L}=t;if(m(a.target)){let{selectedIndex:j}=t,w=!1,T=!1;(a.code==="Space"||a.keyCode===32||a.code==="Enter"||a.keyCode===13)&&(w=!0,T=!1,b(a)),!L&&(a.keyCode===37||a.code==="ArrowLeft")||!g&&(a.keyCode===38||a.code==="ArrowUp")?(o==="rtl"?j=d(j):j=u(j),w=!0,T=!0):!L&&(a.keyCode===39||a.code==="ArrowRight")||!g&&(a.keyCode===40||a.code==="ArrowDown")?(o==="rtl"?j=u(j):j=d(j),w=!0,T=!0):a.keyCode===35||a.code==="End"?(j=h(),w=!0,T=!0):(a.keyCode===36||a.code==="Home")&&(j=f(),w=!0,T=!0),w&&a.preventDefault(),T&&i(j,a)}}function b(a){let o=a.target;do if(m(o)){if(_(o))return;const g=[].slice.call(o.parentNode.children).filter(pe).indexOf(o);i(g,a);return}while((o=o.parentNode)!=null)}function m(a){if(!pe(a))return!1;let o=a.parentElement;do{if(o===n.current)return!0;if(o.getAttribute("data-rttabs"))break;o=o.parentElement}while(o);return!1}const{children:C,className:P,disabledTabClassName:$,domRef:A,focus:F,forceRenderTabPanel:ne,onSelect:oe,selectedIndex:le,selectedTabClassName:E,selectedTabPanelClassName:ce,environment:N,disableUpDownKeys:I,disableLeftRightKeys:v,...B}={...Ae,...t};return S.createElement("div",Object.assign({},B,{className:z(P),onClick:b,onKeyDown:c,ref:a=>{n.current=a,A&&A(a)},"data-rttabs":!0}),y())};we.propTypes={};const Oe=0,O=1,Me={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},He=t=>t.selectedIndex===null?O:Oe,re=t=>{const{children:r,defaultFocus:s,defaultIndex:n,focusTabOnClick:i,onSelect:d,...u}={...Me,...t},[f,h]=l.useState(s),[p]=l.useState(He(u)),[x,y]=l.useState(p===O?n||0:null);if(l.useEffect(()=>{h(!1)},[]),p===O){const m=ve(r);l.useEffect(()=>{if(x!=null){const C=Math.max(0,m-1);y(Math.min(x,C))}},[m])}const c=(m,C,P)=>{typeof d=="function"&&d(m,C,P)===!1||(i&&h(!0),p===O&&y(m))};let b={...t,...u};return b.focus=f,b.onSelect=c,x!=null&&(b.selectedIndex=x),delete b.defaultFocus,delete b.defaultIndex,delete b.focusTabOnClick,S.createElement(we,b,r)};re.propTypes={};re.tabsRole="Tabs";const ze={className:"react-tabs__tab-list"},ae=t=>{const{children:r,className:s,...n}={...ze,...t};return S.createElement("ul",Object.assign({},n,{className:z(s),role:"tablist"}),r)};ae.tabsRole="TabList";ae.propTypes={};const X="react-tabs__tab",Fe={className:X,disabledClassName:`${X}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${X}--selected`},R=t=>{let r=l.useRef();const{children:s,className:n,disabled:i,disabledClassName:d,focus:u,id:f,selected:h,selectedClassName:p,tabIndex:x,tabRef:y,...c}={...Fe,...t};return l.useEffect(()=>{h&&u&&r.current.focus()},[h,u]),S.createElement("li",Object.assign({},c,{className:z(n,{[p]:h,[d]:i}),ref:b=>{r.current=b,y&&y(b)},role:"tab",id:`tab${f}`,"aria-selected":h?"true":"false","aria-disabled":i?"true":"false","aria-controls":`panel${f}`,tabIndex:x||(h?"0":null),"data-rttab":!0}),s)};R.propTypes={};R.tabsRole="Tab";const be="react-tabs__tab-panel",Be={className:be,forceRender:!1,selectedClassName:`${be}--selected`},U=t=>{const{children:r,className:s,forceRender:n,id:i,selected:d,selectedClassName:u,...f}={...Be,...t};return S.createElement("div",Object.assign({},f,{className:z(s,{[u]:d}),role:"tabpanel",id:`panel${i}`,"aria-labelledby":`tab${i}`}),n||d?r:null)};U.tabsRole="TabPanel";U.propTypes={};function Ke(t){return Ie({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 10h-2V8h2v2zm0-4h-2V1h2v5zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03L21 4.96 19.25 4l-3.7 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"}}]})(t)}function Qe({order:t}){const[r,s]=l.useState("paymentId"),[n,i]=l.useState(!1),[d,u]=l.useState(0),f=5,h=S.useMemo(()=>[{Header:"Payment Id",accessor:"paymentId"},{Header:"Total",accessor:"grandTotal"},{Header:"Name",accessor:c=>c.addressInfo.name},{Header:"Address",accessor:c=>`${c.addressInfo.roomNo||""}, ${c.addressInfo.society||""}, ${c.addressInfo.street||""}, ${c.addressInfo.city||""} , ${c.addressInfo.pincode}`},{Header:"Phone Number",accessor:c=>c.addressInfo.phoneNumber},{Header:"Email",accessor:"email"},{Header:"Product Info",accessor:c=>{const b=c.cartItems.map(m=>{const C=m.colors.find($=>$.hex===m.selectedColor),P=C?C.name:"Unknown Color";return`
              <div style="margin-bottom: 20px; border-bottom: 1px solid #ddd; padding-bottom: 10px;">
                <div style="text-align: center;">
                  <img src="${m.imageUrls[0]}" alt="${m._id}" style="max-width: 150px; height: auto; display: block; margin: 0 auto;" />
                </div>
                <div style="text-align: center;">
                  <div><strong>Product Name:</strong> ${m._id}</div>
                  <div><strong>Category:</strong> ${m.category}</div>
                  <div><strong>Color:</strong> ${P}</div>
                  <div><strong>Size:</strong> ${m.selectedSize}</div>
                  <div><strong>Quantity:</strong> ${m.quantity}</div>
                </div>
              </div>
            `}).join("<br/><br/>");return e.jsx("div",{dangerouslySetInnerHTML:{__html:b}})}},{Header:"Payment Status",accessor:c=>c.status},{Header:"Date",accessor:c=>c.date}],[]),p=c=>{c===r?i(!n):(s(c),i(!1))},x=S.useMemo(()=>[...t].sort((b,m)=>b[r]<m[r]?n?1:-1:b[r]>m[r]?n?-1:1:0).slice(d*f,(d+1)*f),[t,r,n,d,f]),y=Math.ceil(t.length/f);return e.jsxs("div",{className:"px-4 md:px-0 mb-16",style:{marginBottom:"15rem"},children:[e.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",children:"Order Details"}),e.jsx("div",{className:"relative overflow-x-auto",children:e.jsx(ye,{columns:h,data:x,sortBy:r,sortDesc:n,onSort:p,pageIndex:d,pageSize:f,onPageChange:u})}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{onClick:()=>u(c=>Math.max(c-1,0)),disabled:d===0,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-l-md mr-2",children:"Prev"}),e.jsx("button",{onClick:()=>u(c=>Math.min(c+1,y-1)),disabled:d===y-1,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-r-md",children:"Next"})]})]})}function Ve({user:t}){const[r,s]=l.useState("name"),[n,i]=l.useState(!1),[d,u]=l.useState(0),f=5,h=S.useMemo(()=>[{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Uid",accessor:"uid"}],[]),p=x=>{x===r?i(!n):(s(x),i(!1))};return e.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[e.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",children:"User Details"}),e.jsx("div",{className:"relative overflow-x-auto",children:e.jsx(ye,{columns:h,data:t,sortBy:r,sortDesc:n,onSort:p,pageIndex:d,pageSize:f,onPageChange:u})})]})}function Ge({product:t,deleteProduct:r,edithandle:s}){const[n,i]=l.useState("title"),[d,u]=l.useState(!1),[f,h]=l.useState(0),p=5,x=he(),[y,c]=l.useState(""),[b,m]=l.useState(!1),[C,P]=l.useState(!1);Ee();const $=N=>N.sort((I,v)=>I[n]<v[n]?d?1:-1:I[n]>v[n]?d?-1:1:0),A=N=>{const I=f*p;return N.slice(I,I+p)},F=Math.ceil(t.length/p),ne=()=>{f>0&&h(N=>N-1)},oe=()=>{f<F-1&&h(N=>N+1)},le=()=>{const N=$(t);return A(N).map((v,B)=>e.jsxs("tr",{className:"bg-gray-50 border-b dark:border-gray-700",children:[e.jsx("td",{className:"px-6 py-4 text-black",children:v._id}),e.jsx("td",{className:"px-6 py-4 font-medium text-black whitespace-nowrap",children:e.jsx("img",{className:"w-16",src:v.imageUrls[0],alt:"Product"})}),e.jsxs("td",{className:"px-6 py-4 text-black",children:["₹",v.price]}),e.jsx("td",{className:"px-6 py-4 text-black",children:v.category}),e.jsx("td",{className:"px-6 py-4 text-black",children:v.date}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2 cursor-pointer text-black",children:[e.jsx("div",{onClick:()=>r(v),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),e.jsx("div",{onClick:()=>s(v),children:e.jsx(Pe,{to:"/updateproduct",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})})})]})})]},B))},E=N=>{N===n?u(!d):(i(N),u(!1))},ce=()=>{P(!1)};return e.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[e.jsx("h1",{className:"text-center mb-2 text-3xl font-semibold underline",children:"Product Details"}),b&&e.jsx(Re,{}),e.jsx("div",{className:"flex justify-center text-center ",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>x("/addproduct"),type:"button",className:"focus:outline-none text-white bg-black shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] border hover:bg-pink-700 outline-0 font-medium rounded-lg text-sm px-5 py-2.5 mb-2",children:"Add Product"})})}),e.jsxs("div",{className:"relative overflow-x-auto",children:[e.jsx("div",{className:"relative overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs border border-gray-600 text-black uppercase bg-gray-200 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("title"),children:["Title ",n==="title"&&e.jsx("span",{children:d?"▼":"▲"})]}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Image"}),e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("price"),children:["Price ",n==="price"&&e.jsx("span",{children:d?"▼":"▲"})]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("category"),children:["Category ",n==="category"&&e.jsx("span",{children:d?"▼":"▲"})]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("colors"),children:["Colors ",n==="colors"&&e.jsx("span",{children:d?"▼":"▲"})]}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:le()})]})}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{onClick:ne,disabled:f===0,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-l-md mr-2",children:"Prev"}),e.jsx("button",{onClick:oe,disabled:f===F-1,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-r-md",children:"Next"})]})]}),C&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Image Uploaded Successfully"}),e.jsx("p",{children:"Download URL:"}),e.jsx("input",{type:"text",value:y,readOnly:!0,className:"w-full bg-gray-100 border border-gray-300 rounded px-3 py-2 mt-2 mb-4"}),e.jsx("button",{onClick:ce,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Close"})]})})]})}function We(){const t=l.useContext(ge),{mode:r,product:s,edithandle:n,deleteProduct:i,order:d,user:u,look:f,deleteLook:h}=t;return l.useState(!1),he(),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"tab container mx-auto ",children:e.jsxs(re,{defaultIndex:0,className:" ",children:[e.jsxs(ae,{className:"md:flex md:space-x-8 bg-  grid grid-cols-2 text-center gap-4   md:justify-center mb-10 ",children:[e.jsx(R,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 hover:shadow-purple-700 border-purple-500 text-purple-500 rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]  px-5 py-1.5 text-center bg-[#605d5d12] ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Ke,{}),"Products"]})})}),e.jsx(R,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 border-pink-500 bg-[#605d5d12] text-pink-500  hover:shadow-pink-700  rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]    px-5 py-1.5 text-center ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(De,{})," Order"]})})}),e.jsx(R,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 border-green-500 bg-[#605d5d12] text-green-500 rounded-lg text-xl  hover:shadow-green-700 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]   px-5 py-1.5 text-center ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(_e,{})," Users"]})})})]}),e.jsx(U,{children:e.jsx(Ge,{product:s,deleteProduct:i,edithandle:n})}),e.jsx(U,{children:e.jsx(Qe,{order:d})}),e.jsx(U,{children:e.jsx(Ve,{user:u})})]})})})})}function rt(){l.useContext(ge);const[t,r]=l.useState({totalProducts:0,totalOrders:0,totalUsers:0});l.useEffect(()=>{(async()=>{try{const u=W(q,"products"),f=W(q,"order"),h=W(q,"users"),p=await J(u),x=await J(f),y=await J(h),c=p.size,b=x.size,m=y.size;r({totalProducts:c,totalOrders:b,totalUsers:m})}catch(u){console.error("Error fetching data:",u)}})()},[]);const{totalProducts:s,totalOrders:n,totalUsers:i}=t;return e.jsx(Le,{children:e.jsxs("section",{className:"text-gray-600 body-font flex flex-col justify-center items-center",children:[e.jsx("div",{className:"container mx-auto px-4 mb-10",children:e.jsxs("div",{className:"flex flex-wrap -m-4 text-center",children:[e.jsx(Y,{icon:e.jsx(G,{size:50}),count:s,label:"Total Products"}),e.jsx(Y,{icon:e.jsx(G,{size:50}),count:n,label:"Total Orders"}),e.jsx(Y,{icon:e.jsx(G,{size:50}),count:i,label:"Total Users"})]})}),e.jsx(We,{})]})})}const Y=({icon:t,count:r,label:s})=>e.jsx("div",{className:"p-4 md:w-1/3 sm:w-1/2 w-full",children:e.jsxs("div",{className:"border-2 hover:shadow-purple-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] bg-gray-100 border-gray-300 px-4 py-3 rounded-xl",children:[e.jsx("div",{className:"text-purple-500 w-12 h-12 mb-3 inline-block",viewBox:"0 0 24 24",children:t}),e.jsx("h2",{className:"title-font font-medium text-3xl text-black",children:r}),e.jsx("p",{className:" text-purple-500 font-bold",children:s})]})});export{rt as default};
