import{r as s,a as f,j as e,L as b,Q as o}from"./index-e9894fe2.js";import j from"./Loader-25a1f6f5.js";import{L as w,e as k,f as C}from"./Layout-c30396e7.js";function L(){const[l,r]=s.useState(""),[i,u]=s.useState(""),[n,x]=s.useState(!1),[m,g]=s.useState(!1),[p,c]=s.useState(!1),h=f(),d=async()=>{c(!0);try{const t=await fetch("https://endpoints-ashy.vercel.app/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:i})}),a=await t.json();t.ok?(localStorage.setItem("user",JSON.stringify({token:a.token,userId:a.userId,email:a.email})),o.success("Login successful!"),h("/")):o.error(a.message||"Login failed. Please check your email and password.")}catch(t){console.error(t),o.error("Login failed. Please try again later.")}finally{c(!1)}},y=async()=>{o.info("Forgot password functionality is not implemented.")};return e.jsx(w,{children:e.jsxs("div",{className:"flex justify-center items-center",style:{marginBottom:"15rem",marginTop:"3rem",padding:"10px"},children:[p&&e.jsx(j,{})," ",e.jsxs("div",{className:"bg-gray-800 px-10 py-16 rounded-xl w-full max-w-md",style:{backgroundColor:"#3C2A21"},children:[e.jsx("div",{children:e.jsx("h1",{className:"text-center text-white text-xl mb-6 font-bold",children:"Login"})}),m?e.jsxs("div",{children:[e.jsx("input",{type:"email",value:l,onChange:t=>r(t.target.value),name:"email",className:"bg-gray-600 mb-6 px-4 py-3 w-full rounded-lg text-black placeholder-text-gray-200 outline-none",placeholder:"Email",style:{backgroundColor:"#DDD5C9"}}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("button",{onClick:y,className:"bg-black w-full text-white font-bold px-4 py-3 rounded-lg",style:{backgroundColor:"#DDD5C9",color:"#3C2A21"},children:"Reset Password"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("input",{type:"email",value:l,onChange:t=>r(t.target.value),name:"email",className:"bg-gray-600 mb-6 px-4 py-3 w-full rounded-lg text-black placeholder-text-gray-200 outline-none",placeholder:"Email",style:{backgroundColor:"#DDD5C9"}})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",value:i,onChange:t=>u(t.target.value),onKeyDown:t=>{t.key==="Enter"&&d()},className:"bg-gray-600 mb-6 px-4 py-3 w-full rounded-lg text-black placeholder-text-gray-200 outline-none pr-10",placeholder:"Password",style:{backgroundColor:"#DDD5C9"}}),e.jsx("button",{type:"button",onClick:()=>x(!n),className:"absolute inset-y-0 right-0 px-4 text-black rounded-r-lg focus:outline-none flex items-center justify-center",style:{marginBottom:"15px"},children:n?e.jsx(k,{}):e.jsx(C,{})})]})}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("button",{onClick:d,className:"bg-black w-full text-white font-bold px-4 py-3 rounded-lg",style:{backgroundColor:"#DDD5C9",color:"#3C2A21"},children:"Login"})}),e.jsx("div",{children:e.jsx("h2",{className:"text-white text-center text-sm cursor-pointer",onClick:()=>g(!0),style:{marginTop:"1rem"},children:"Forgot Password?"})})]}),e.jsx("div",{children:e.jsx("h2",{className:"text-white text-center text-sm",style:{marginTop:"1rem"},children:e.jsx(b,{className:"text-black font-bold px-1",to:"/signup",style:{transition:"transform 0.3s ease-in-out",display:"inline-block",color:"#DDD5C9"},children:e.jsx("u",{children:"Don't have an account yet? Signup"})})})})]})]})})}export{L as default};
