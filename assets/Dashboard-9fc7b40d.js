import{r as o,R as S,f as he,j as e,L as Pe}from"./index-90546ebf.js";import{G as De,A as Ie,F as Le,L as _e,a as V}from"./Layout-67be547f.js";import{m as ge}from"./myContext-878179b9.js";import"./index-bea2a320-8c0c8ce8.js";import{T as je}from"./table-1417d89f.js";import{g as Ee}from"./index.esm2017-dfb43fad.js";import Re from"./Loader-cd8b54f7.js";import{c as G,f as W,g as q}from"./FirebaseConfig-f1ddf40d.js";function Z(t){return a=>!!a.type&&a.type.tabsRole===t}const M=Z("Tab"),ee=Z("TabList"),te=Z("TabPanel");function Ue(t){return M(t)||ee(t)||te(t)}function Y(t,a){return o.Children.map(t,s=>s===null?null:Ue(s)?a(s):s.props&&s.props.children&&typeof s.props.children=="object"?o.cloneElement(s,{...s.props,children:Y(s.props.children,a)}):s)}function ye(t,a){return o.Children.forEach(t,s=>{s!==null&&(M(s)||te(s)?a(s):s.props&&s.props.children&&typeof s.props.children=="object"&&(ee(s)&&a(s),ye(s.props.children,a)))})}function Ne(t){var a,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(a=0;a<c;a++)t[a]&&(s=Ne(t[a]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function z(){for(var t,a,s=0,n="",c=arguments.length;s<c;s++)(t=arguments[s])&&(a=Ne(t))&&(n&&(n+=" "),n+=a);return n}function ve(t){let a=0;return ye(t,s=>{M(s)&&a++}),a}function we(t){return t&&"getAttribute"in t}function me(t){return we(t)&&t.getAttribute("data-rttab")}function D(t){return we(t)&&t.getAttribute("aria-disabled")==="true"}let H;function Ae(t){const a=t||(typeof window<"u"?window:void 0);try{H=!!(typeof a<"u"&&a.document&&a.document.activeElement)}catch{H=!1}}const Oe={className:"react-tabs",focus:!1},Ce=t=>{let a=o.useRef([]),s=o.useRef([]);const n=o.useRef();function c(r,l){if(r<0||r>=f())return;const{onSelect:m,selectedIndex:L}=t;m(r,L,l)}function d(r){const l=f();for(let m=r+1;m<l;m++)if(!D(i(m)))return m;for(let m=0;m<r;m++)if(!D(i(m)))return m;return r}function u(r){let l=r;for(;l--;)if(!D(i(l)))return l;for(l=f();l-- >r;)if(!D(i(l)))return l;return r}function x(){const r=f();for(let l=0;l<r;l++)if(!D(i(l)))return l;return null}function p(){let r=f();for(;r--;)if(!D(i(r)))return r;return null}function f(){const{children:r}=t;return ve(r)}function i(r){return a.current[`tabs-${r}`]}function j(){let r=0;const{children:l,disabledTabClassName:m,focus:L,forceRenderTabPanel:h,selectedIndex:v,selectedTabClassName:w,selectedTabPanelClassName:de,environment:ie}=t;s.current=s.current||[];let Te=s.current.length-f();const Se=o.useId();for(;Te++<0;)s.current.push(`${Se}${s.current.length}`);return Y(l,P=>{let B=P;if(ee(P)){let T=0,ue=!1;H==null&&Ae(ie);const fe=ie||(typeof window<"u"?window:void 0);H&&fe&&(ue=S.Children.toArray(P.props.children).filter(M).some((xe,K)=>fe.document.activeElement===i(K))),B=o.cloneElement(P,{children:Y(P.props.children,xe=>{const K=`tabs-${T}`,pe=v===T,Q={tabRef:ke=>{a.current[K]=ke},id:s.current[T],selected:pe,focus:pe&&(L||ue)};return w&&(Q.selectedClassName=w),m&&(Q.disabledClassName=m),T++,o.cloneElement(xe,Q)})})}else if(te(P)){const T={id:s.current[r],selected:v===r};h&&(T.forceRender=h),de&&(T.selectedClassName=de),r++,B=o.cloneElement(P,T)}return B})}function C(r){const{direction:l,disableUpDownKeys:m,disableLeftRightKeys:L}=t;if(y(r.target)){let{selectedIndex:h}=t,v=!1,w=!1;(r.code==="Space"||r.keyCode===32||r.code==="Enter"||r.keyCode===13)&&(v=!0,w=!1,b(r)),!L&&(r.keyCode===37||r.code==="ArrowLeft")||!m&&(r.keyCode===38||r.code==="ArrowUp")?(l==="rtl"?h=d(h):h=u(h),v=!0,w=!0):!L&&(r.keyCode===39||r.code==="ArrowRight")||!m&&(r.keyCode===40||r.code==="ArrowDown")?(l==="rtl"?h=u(h):h=d(h),v=!0,w=!0):r.keyCode===35||r.code==="End"?(h=p(),v=!0,w=!0):(r.keyCode===36||r.code==="Home")&&(h=x(),v=!0,w=!0),v&&r.preventDefault(),w&&c(h,r)}}function b(r){let l=r.target;do if(y(l)){if(D(l))return;const m=[].slice.call(l.parentNode.children).filter(me).indexOf(l);c(m,r);return}while((l=l.parentNode)!=null)}function y(r){if(!me(r))return!1;let l=r.parentElement;do{if(l===n.current)return!0;if(l.getAttribute("data-rttabs"))break;l=l.parentElement}while(l);return!1}const{children:I,className:_,disabledTabClassName:ae,domRef:A,focus:$,forceRenderTabPanel:ne,onSelect:le,selectedIndex:oe,selectedTabClassName:E,selectedTabPanelClassName:ce,environment:g,disableUpDownKeys:k,disableLeftRightKeys:N,...F}={...Oe,...t};return S.createElement("div",Object.assign({},F,{className:z(_),onClick:b,onKeyDown:C,ref:r=>{n.current=r,A&&A(r)},"data-rttabs":!0}),j())};Ce.propTypes={};const He=0,O=1,Me={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},ze=t=>t.selectedIndex===null?O:He,se=t=>{const{children:a,defaultFocus:s,defaultIndex:n,focusTabOnClick:c,onSelect:d,...u}={...Me,...t},[x,p]=o.useState(s),[f]=o.useState(ze(u)),[i,j]=o.useState(f===O?n||0:null);if(o.useEffect(()=>{p(!1)},[]),f===O){const y=ve(a);o.useEffect(()=>{if(i!=null){const I=Math.max(0,y-1);j(Math.min(i,I))}},[y])}const C=(y,I,_)=>{typeof d=="function"&&d(y,I,_)===!1||(c&&p(!0),f===O&&j(y))};let b={...t,...u};return b.focus=x,b.onSelect=C,i!=null&&(b.selectedIndex=i),delete b.defaultFocus,delete b.defaultIndex,delete b.focusTabOnClick,S.createElement(Ce,b,a)};se.propTypes={};se.tabsRole="Tabs";const $e={className:"react-tabs__tab-list"},re=t=>{const{children:a,className:s,...n}={...$e,...t};return S.createElement("ul",Object.assign({},n,{className:z(s),role:"tablist"}),a)};re.tabsRole="TabList";re.propTypes={};const J="react-tabs__tab",Fe={className:J,disabledClassName:`${J}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${J}--selected`},R=t=>{let a=o.useRef();const{children:s,className:n,disabled:c,disabledClassName:d,focus:u,id:x,selected:p,selectedClassName:f,tabIndex:i,tabRef:j,...C}={...Fe,...t};return o.useEffect(()=>{p&&u&&a.current.focus()},[p,u]),S.createElement("li",Object.assign({},C,{className:z(n,{[f]:p,[d]:c}),ref:b=>{a.current=b,j&&j(b)},role:"tab",id:`tab${x}`,"aria-selected":p?"true":"false","aria-disabled":c?"true":"false","aria-controls":`panel${x}`,tabIndex:i||(p?"0":null),"data-rttab":!0}),s)};R.propTypes={};R.tabsRole="Tab";const be="react-tabs__tab-panel",Be={className:be,forceRender:!1,selectedClassName:`${be}--selected`},U=t=>{const{children:a,className:s,forceRender:n,id:c,selected:d,selectedClassName:u,...x}={...Be,...t};return S.createElement("div",Object.assign({},x,{className:z(s,{[u]:d}),role:"tabpanel",id:`panel${c}`,"aria-labelledby":`tab${c}`}),n||d?a:null)};U.tabsRole="TabPanel";U.propTypes={};function Ke(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 10h-2V8h2v2zm0-4h-2V1h2v5zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03L21 4.96 19.25 4l-3.7 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"}}]})(t)}function Qe({order:t}){const[a,s]=o.useState("paymentId"),[n,c]=o.useState(!1),[d,u]=o.useState(0),x=5,p=S.useMemo(()=>[{Header:"Payment Id",accessor:"paymentId"},{Header:"Total",accessor:"grandTotal"},{Header:"Name",accessor:"addressInfo.name"},{Header:"Address",accessor:"addressInfo.address"},{Header:"Pincode",accessor:"addressInfo.pincode"},{Header:"Phone Number",accessor:"addressInfo.phoneNumber"},{Header:"Email",accessor:"email"},{Header:"Date",accessor:"date"}],[]),f=i=>{i===a?c(!n):(s(i),c(!1))};return e.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[e.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",children:"Order Details"}),e.jsx("div",{className:"relative overflow-x-auto",children:e.jsx(je,{columns:p,data:t,sortBy:a,sortDesc:n,onSort:f,pageIndex:d,pageSize:x,onPageChange:u})})]})}function Ve({user:t}){const[a,s]=o.useState("name"),[n,c]=o.useState(!1),[d,u]=o.useState(0),x=5,p=S.useMemo(()=>[{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Uid",accessor:"uid"}],[]),f=i=>{i===a?c(!n):(s(i),c(!1))};return e.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[e.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",children:"User Details"}),e.jsx("div",{className:"relative overflow-x-auto",children:e.jsx(je,{columns:p,data:t,sortBy:a,sortDesc:n,onSort:f,pageIndex:d,pageSize:x,onPageChange:u})})]})}function Ge({product:t,deleteProduct:a,edithandle:s}){const[n,c]=o.useState("title"),[d,u]=o.useState(!1),[x,p]=o.useState(0),f=5,i=he(),[j,C]=o.useState(""),[b,y]=o.useState(!1),[I,_]=o.useState(!1);Ee();const ae=g=>g.sort((k,N)=>k[n]<N[n]?d?1:-1:k[n]>N[n]?d?-1:1:0),A=g=>{const k=x*f;return g.slice(k,k+f)},$=Math.ceil(t.length/f),ne=()=>{x>0&&p(g=>g-1)},le=()=>{x<$-1&&p(g=>g+1)},oe=()=>{const g=ae(t);return A(g).map((N,F)=>e.jsxs("tr",{className:"bg-gray-50 border-b dark:border-gray-700",children:[e.jsx("td",{className:"px-6 py-4 text-black",children:N._id}),e.jsx("td",{className:"px-6 py-4 font-medium text-black whitespace-nowrap",children:e.jsx("img",{className:"w-16",src:N.imageUrls[0],alt:"Product"})}),e.jsxs("td",{className:"px-6 py-4 text-black",children:["₹",N.price]}),e.jsx("td",{className:"px-6 py-4 text-black",children:N.category}),e.jsx("td",{className:"px-6 py-4 text-black",children:N.date}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2 cursor-pointer text-black",children:[e.jsx("div",{onClick:()=>a(N),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),e.jsx("div",{onClick:()=>s(N),children:e.jsx(Pe,{to:"/updateproduct",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})})})]})})]},F))},E=g=>{g===n?u(!d):(c(g),u(!1))},ce=()=>{_(!1)};return e.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[e.jsx("h1",{className:"text-center mb-2 text-3xl font-semibold underline",children:"Product Details"}),b&&e.jsx(Re,{}),e.jsx("div",{className:"flex justify-center text-center ",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>i("/addproduct"),type:"button",className:"focus:outline-none text-white bg-black shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] border hover:bg-pink-700 outline-0 font-medium rounded-lg text-sm px-5 py-2.5 mb-2",children:"Add Product"})})}),e.jsxs("div",{className:"relative overflow-x-auto",children:[e.jsx("div",{className:"relative overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs border border-gray-600 text-black uppercase bg-gray-200 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("title"),children:["Title ",n==="title"&&e.jsx("span",{children:d?"▼":"▲"})]}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Image"}),e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("price"),children:["Price ",n==="price"&&e.jsx("span",{children:d?"▼":"▲"})]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("category"),children:["Category ",n==="category"&&e.jsx("span",{children:d?"▼":"▲"})]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("colors"),children:["Colors ",n==="colors"&&e.jsx("span",{children:d?"▼":"▲"})]}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:oe()})]})}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{onClick:ne,disabled:x===0,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-l-md mr-2",children:"Prev"}),e.jsx("button",{onClick:le,disabled:x===$-1,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-r-md",children:"Next"})]})]}),I&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Image Uploaded Successfully"}),e.jsx("p",{children:"Download URL:"}),e.jsx("input",{type:"text",value:j,readOnly:!0,className:"w-full bg-gray-100 border border-gray-300 rounded px-3 py-2 mt-2 mb-4"}),e.jsx("button",{onClick:ce,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Close"})]})})]})}function We(){const t=o.useContext(ge),{mode:a,product:s,edithandle:n,deleteProduct:c,order:d,user:u,look:x,deleteLook:p}=t;return o.useState(!1),he(),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"tab container mx-auto ",children:e.jsxs(se,{defaultIndex:0,className:" ",children:[e.jsxs(re,{className:"md:flex md:space-x-8 bg-  grid grid-cols-2 text-center gap-4   md:justify-center mb-10 ",children:[e.jsx(R,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 hover:shadow-purple-700 border-purple-500 text-purple-500 rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]  px-5 py-1.5 text-center bg-[#605d5d12] ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Ke,{}),"Products"]})})}),e.jsx(R,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 border-pink-500 bg-[#605d5d12] text-pink-500  hover:shadow-pink-700  rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]    px-5 py-1.5 text-center ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Ie,{})," Order"]})})}),e.jsx(R,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 border-green-500 bg-[#605d5d12] text-green-500 rounded-lg text-xl  hover:shadow-green-700 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]   px-5 py-1.5 text-center ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Le,{})," Users"]})})})]}),e.jsx(U,{children:e.jsx(Ge,{product:s,deleteProduct:c,edithandle:n})}),e.jsx(U,{children:e.jsx(Qe,{order:d})}),e.jsx(U,{children:e.jsx(Ve,{user:u})})]})})})})}function rt(){o.useContext(ge);const[t,a]=o.useState({totalProducts:0,totalOrders:0,totalUsers:0});o.useEffect(()=>{(async()=>{try{const u=G(W,"products"),x=G(W,"order"),p=G(W,"users"),f=await q(u),i=await q(x),j=await q(p),C=f.size,b=i.size,y=j.size;a({totalProducts:C,totalOrders:b,totalUsers:y})}catch(u){console.error("Error fetching data:",u)}})()},[]);const{totalProducts:s,totalOrders:n,totalUsers:c}=t;return e.jsx(_e,{children:e.jsxs("section",{className:"text-gray-600 body-font flex flex-col justify-center items-center",children:[e.jsx("div",{className:"container mx-auto px-4 mb-10",children:e.jsxs("div",{className:"flex flex-wrap -m-4 text-center",children:[e.jsx(X,{icon:e.jsx(V,{size:50}),count:s,label:"Total Products"}),e.jsx(X,{icon:e.jsx(V,{size:50}),count:n,label:"Total Orders"}),e.jsx(X,{icon:e.jsx(V,{size:50}),count:c,label:"Total Users"})]})}),e.jsx(We,{})]})})}const X=({icon:t,count:a,label:s})=>e.jsx("div",{className:"p-4 md:w-1/3 sm:w-1/2 w-full",children:e.jsxs("div",{className:"border-2 hover:shadow-purple-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] bg-gray-100 border-gray-300 px-4 py-3 rounded-xl",children:[e.jsx("div",{className:"text-purple-500 w-12 h-12 mb-3 inline-block",viewBox:"0 0 24 24",children:t}),e.jsx("h2",{className:"title-font font-medium text-3xl text-black",children:a}),e.jsx("p",{className:" text-purple-500 font-bold",children:s})]})});export{rt as default};
