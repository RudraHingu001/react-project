import{r as c,R as k,f as he,j as e,L as Ie}from"./index-514b9b96.js";import{G as Pe,A as De,F as _e,L as Le,a as V}from"./Layout-ce74dda3.js";import{m as ge}from"./myContext-21782fdd.js";import"./index-bea2a320-8c0c8ce8.js";import{T as ye}from"./table-6690f617.js";import{g as Ee}from"./index.esm2017-dfb43fad.js";import Re from"./Loader-f6cb6366.js";import{c as G,f as W,g as q}from"./FirebaseConfig-f1ddf40d.js";function Z(t){return a=>!!a.type&&a.type.tabsRole===t}const H=Z("Tab"),ee=Z("TabList"),te=Z("TabPanel");function Ue(t){return H(t)||ee(t)||te(t)}function Y(t,a){return c.Children.map(t,s=>s===null?null:Ue(s)?a(s):s.props&&s.props.children&&typeof s.props.children=="object"?c.cloneElement(s,{...s.props,children:Y(s.props.children,a)}):s)}function je(t,a){return c.Children.forEach(t,s=>{s!==null&&(H(s)||te(s)?a(s):s.props&&s.props.children&&typeof s.props.children=="object"&&(ee(s)&&a(s),je(s.props.children,a)))})}function Ne(t){var a,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var d=t.length;for(a=0;a<d;a++)t[a]&&(s=Ne(t[a]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function M(){for(var t,a,s=0,n="",d=arguments.length;s<d;s++)(t=arguments[s])&&(a=Ne(t))&&(n&&(n+=" "),n+=a);return n}function ve(t){let a=0;return je(t,s=>{H(s)&&a++}),a}function we(t){return t&&"getAttribute"in t}function pe(t){return we(t)&&t.getAttribute("data-rttab")}function D(t){return we(t)&&t.getAttribute("aria-disabled")==="true"}let O;function $e(t){const a=t||(typeof window<"u"?window:void 0);try{O=!!(typeof a<"u"&&a.document&&a.document.activeElement)}catch{O=!1}}const Ae={className:"react-tabs",focus:!1},Ce=t=>{let a=c.useRef([]),s=c.useRef([]);const n=c.useRef();function d(r,l){if(r<0||r>=f())return;const{onSelect:b,selectedIndex:_}=t;b(r,_,l)}function i(r){const l=f();for(let b=r+1;b<l;b++)if(!D(o(b)))return b;for(let b=0;b<r;b++)if(!D(o(b)))return b;return r}function u(r){let l=r;for(;l--;)if(!D(o(l)))return l;for(l=f();l-- >r;)if(!D(o(l)))return l;return r}function x(){const r=f();for(let l=0;l<r;l++)if(!D(o(l)))return l;return null}function m(){let r=f();for(;r--;)if(!D(o(r)))return r;return null}function f(){const{children:r}=t;return ve(r)}function o(r){return a.current[`tabs-${r}`]}function y(){let r=0;const{children:l,disabledTabClassName:b,focus:_,forceRenderTabPanel:g,selectedIndex:w,selectedTabClassName:C,selectedTabPanelClassName:de,environment:ie}=t;s.current=s.current||[];let Te=s.current.length-f();const Se=c.useId();for(;Te++<0;)s.current.push(`${Se}${s.current.length}`);return Y(l,P=>{let B=P;if(ee(P)){let S=0,ue=!1;O==null&&$e(ie);const fe=ie||(typeof window<"u"?window:void 0);O&&fe&&(ue=k.Children.toArray(P.props.children).filter(H).some((xe,K)=>fe.document.activeElement===o(K))),B=c.cloneElement(P,{children:Y(P.props.children,xe=>{const K=`tabs-${S}`,me=w===S,Q={tabRef:ke=>{a.current[K]=ke},id:s.current[S],selected:me,focus:me&&(_||ue)};return C&&(Q.selectedClassName=C),b&&(Q.disabledClassName=b),S++,c.cloneElement(xe,Q)})})}else if(te(P)){const S={id:s.current[r],selected:w===r};g&&(S.forceRender=g),de&&(S.selectedClassName=de),r++,B=c.cloneElement(P,S)}return B})}function h(r){const{direction:l,disableUpDownKeys:b,disableLeftRightKeys:_}=t;if(j(r.target)){let{selectedIndex:g}=t,w=!1,C=!1;(r.code==="Space"||r.keyCode===32||r.code==="Enter"||r.keyCode===13)&&(w=!0,C=!1,p(r)),!_&&(r.keyCode===37||r.code==="ArrowLeft")||!b&&(r.keyCode===38||r.code==="ArrowUp")?(l==="rtl"?g=i(g):g=u(g),w=!0,C=!0):!_&&(r.keyCode===39||r.code==="ArrowRight")||!b&&(r.keyCode===40||r.code==="ArrowDown")?(l==="rtl"?g=u(g):g=i(g),w=!0,C=!0):r.keyCode===35||r.code==="End"?(g=m(),w=!0,C=!0):(r.keyCode===36||r.code==="Home")&&(g=x(),w=!0,C=!0),w&&r.preventDefault(),C&&d(g,r)}}function p(r){let l=r.target;do if(j(l)){if(D(l))return;const b=[].slice.call(l.parentNode.children).filter(pe).indexOf(l);d(b,r);return}while((l=l.parentNode)!=null)}function j(r){if(!pe(r))return!1;let l=r.parentElement;do{if(l===n.current)return!0;if(l.getAttribute("data-rttabs"))break;l=l.parentElement}while(l);return!1}const{children:T,className:L,disabledTabClassName:ae,domRef:$,focus:z,forceRenderTabPanel:ne,onSelect:oe,selectedIndex:le,selectedTabClassName:E,selectedTabPanelClassName:ce,environment:N,disableUpDownKeys:I,disableLeftRightKeys:v,...F}={...Ae,...t};return k.createElement("div",Object.assign({},F,{className:M(L),onClick:p,onKeyDown:h,ref:r=>{n.current=r,$&&$(r)},"data-rttabs":!0}),y())};Ce.propTypes={};const Oe=0,A=1,He={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},Me=t=>t.selectedIndex===null?A:Oe,se=t=>{const{children:a,defaultFocus:s,defaultIndex:n,focusTabOnClick:d,onSelect:i,...u}={...He,...t},[x,m]=c.useState(s),[f]=c.useState(Me(u)),[o,y]=c.useState(f===A?n||0:null);if(c.useEffect(()=>{m(!1)},[]),f===A){const j=ve(a);c.useEffect(()=>{if(o!=null){const T=Math.max(0,j-1);y(Math.min(o,T))}},[j])}const h=(j,T,L)=>{typeof i=="function"&&i(j,T,L)===!1||(d&&m(!0),f===A&&y(j))};let p={...t,...u};return p.focus=x,p.onSelect=h,o!=null&&(p.selectedIndex=o),delete p.defaultFocus,delete p.defaultIndex,delete p.focusTabOnClick,k.createElement(Ce,p,a)};se.propTypes={};se.tabsRole="Tabs";const ze={className:"react-tabs__tab-list"},re=t=>{const{children:a,className:s,...n}={...ze,...t};return k.createElement("ul",Object.assign({},n,{className:M(s),role:"tablist"}),a)};re.tabsRole="TabList";re.propTypes={};const J="react-tabs__tab",Fe={className:J,disabledClassName:`${J}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${J}--selected`},R=t=>{let a=c.useRef();const{children:s,className:n,disabled:d,disabledClassName:i,focus:u,id:x,selected:m,selectedClassName:f,tabIndex:o,tabRef:y,...h}={...Fe,...t};return c.useEffect(()=>{m&&u&&a.current.focus()},[m,u]),k.createElement("li",Object.assign({},h,{className:M(n,{[f]:m,[i]:d}),ref:p=>{a.current=p,y&&y(p)},role:"tab",id:`tab${x}`,"aria-selected":m?"true":"false","aria-disabled":d?"true":"false","aria-controls":`panel${x}`,tabIndex:o||(m?"0":null),"data-rttab":!0}),s)};R.propTypes={};R.tabsRole="Tab";const be="react-tabs__tab-panel",Be={className:be,forceRender:!1,selectedClassName:`${be}--selected`},U=t=>{const{children:a,className:s,forceRender:n,id:d,selected:i,selectedClassName:u,...x}={...Be,...t};return k.createElement("div",Object.assign({},x,{className:M(s,{[u]:i}),role:"tabpanel",id:`panel${d}`,"aria-labelledby":`tab${d}`}),n||i?a:null)};U.tabsRole="TabPanel";U.propTypes={};function Ke(t){return Pe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 10h-2V8h2v2zm0-4h-2V1h2v5zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03L21 4.96 19.25 4l-3.7 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"}}]})(t)}function Qe({order:t}){const[a,s]=c.useState("paymentId"),[n,d]=c.useState(!1),[i,u]=c.useState(0),x=5,m=k.useMemo(()=>[{Header:"Payment Id",accessor:"paymentId"},{Header:"Total",accessor:"grandTotal"},{Header:"Name",accessor:o=>o.addressInfo.name},{Header:"Address",accessor:o=>`${o.addressInfo.roomNo||""}, ${o.addressInfo.society||""}, ${o.addressInfo.street||""}, ${o.addressInfo.pincode}`},{Header:"Phone Number",accessor:o=>o.addressInfo.phoneNumber},{Header:"Email",accessor:"email"},{Header:"Product Info",accessor:o=>{const y=o.cartItems.map(h=>{const p=h.colors.find(T=>T.hex===h.selectedColor),j=p?p.name:"Unknown Color";return`
              <div style="margin-bottom: 20px; border-bottom: 1px solid #ddd; padding-bottom: 10px;">
                <div style="text-align: center;">
                  <img src="${h.imageUrls[0]}" alt="${h._id}" style="max-width: 150px; height: auto; display: block; margin: 0 auto;" />
                </div>
                <div style="text-align: center;">
                  <div><strong>Product Name:</strong> ${h._id}</div>
                  <div><strong>Category:</strong> ${h.category}</div>
                  <div><strong>Color:</strong> ${j}</div>
                  <div><strong>Size:</strong> ${h.selectedSize}</div>
                  <div><strong>Quantity:</strong> ${h.quantity}</div>
                </div>
              </div>
            `}).join("<br/><br/>");return e.jsx("div",{dangerouslySetInnerHTML:{__html:y}})}},{Header:"Payment Status",accessor:o=>o.status},{Header:"Date",accessor:o=>o.date}],[]),f=o=>{o===a?d(!n):(s(o),d(!1))};return e.jsxs("div",{className:"px-4 md:px-0 mb-16",style:{marginBottom:"15rem"},children:[e.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",children:"Order Details"}),e.jsx("div",{className:"relative overflow-x-auto",children:e.jsx(ye,{columns:m,data:t,sortBy:a,sortDesc:n,onSort:f,pageIndex:i,pageSize:x,onPageChange:u})})]})}function Ve({user:t}){const[a,s]=c.useState("name"),[n,d]=c.useState(!1),[i,u]=c.useState(0),x=5,m=k.useMemo(()=>[{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Uid",accessor:"uid"}],[]),f=o=>{o===a?d(!n):(s(o),d(!1))};return e.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[e.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",children:"User Details"}),e.jsx("div",{className:"relative overflow-x-auto",children:e.jsx(ye,{columns:m,data:t,sortBy:a,sortDesc:n,onSort:f,pageIndex:i,pageSize:x,onPageChange:u})})]})}function Ge({product:t,deleteProduct:a,edithandle:s}){const[n,d]=c.useState("title"),[i,u]=c.useState(!1),[x,m]=c.useState(0),f=5,o=he(),[y,h]=c.useState(""),[p,j]=c.useState(!1),[T,L]=c.useState(!1);Ee();const ae=N=>N.sort((I,v)=>I[n]<v[n]?i?1:-1:I[n]>v[n]?i?-1:1:0),$=N=>{const I=x*f;return N.slice(I,I+f)},z=Math.ceil(t.length/f),ne=()=>{x>0&&m(N=>N-1)},oe=()=>{x<z-1&&m(N=>N+1)},le=()=>{const N=ae(t);return $(N).map((v,F)=>e.jsxs("tr",{className:"bg-gray-50 border-b dark:border-gray-700",children:[e.jsx("td",{className:"px-6 py-4 text-black",children:v._id}),e.jsx("td",{className:"px-6 py-4 font-medium text-black whitespace-nowrap",children:e.jsx("img",{className:"w-16",src:v.imageUrls[0],alt:"Product"})}),e.jsxs("td",{className:"px-6 py-4 text-black",children:["₹",v.price]}),e.jsx("td",{className:"px-6 py-4 text-black",children:v.category}),e.jsx("td",{className:"px-6 py-4 text-black",children:v.date}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2 cursor-pointer text-black",children:[e.jsx("div",{onClick:()=>a(v),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),e.jsx("div",{onClick:()=>s(v),children:e.jsx(Ie,{to:"/updateproduct",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})})})]})})]},F))},E=N=>{N===n?u(!i):(d(N),u(!1))},ce=()=>{L(!1)};return e.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[e.jsx("h1",{className:"text-center mb-2 text-3xl font-semibold underline",children:"Product Details"}),p&&e.jsx(Re,{}),e.jsx("div",{className:"flex justify-center text-center ",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>o("/addproduct"),type:"button",className:"focus:outline-none text-white bg-black shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] border hover:bg-pink-700 outline-0 font-medium rounded-lg text-sm px-5 py-2.5 mb-2",children:"Add Product"})})}),e.jsxs("div",{className:"relative overflow-x-auto",children:[e.jsx("div",{className:"relative overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs border border-gray-600 text-black uppercase bg-gray-200 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("title"),children:["Title ",n==="title"&&e.jsx("span",{children:i?"▼":"▲"})]}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Image"}),e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("price"),children:["Price ",n==="price"&&e.jsx("span",{children:i?"▼":"▲"})]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("category"),children:["Category ",n==="category"&&e.jsx("span",{children:i?"▼":"▲"})]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>E("colors"),children:["Colors ",n==="colors"&&e.jsx("span",{children:i?"▼":"▲"})]}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:le()})]})}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{onClick:ne,disabled:x===0,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-l-md mr-2",children:"Prev"}),e.jsx("button",{onClick:oe,disabled:x===z-1,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-r-md",children:"Next"})]})]}),T&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Image Uploaded Successfully"}),e.jsx("p",{children:"Download URL:"}),e.jsx("input",{type:"text",value:y,readOnly:!0,className:"w-full bg-gray-100 border border-gray-300 rounded px-3 py-2 mt-2 mb-4"}),e.jsx("button",{onClick:ce,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Close"})]})})]})}function We(){const t=c.useContext(ge),{mode:a,product:s,edithandle:n,deleteProduct:d,order:i,user:u,look:x,deleteLook:m}=t;return c.useState(!1),he(),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"tab container mx-auto ",children:e.jsxs(se,{defaultIndex:0,className:" ",children:[e.jsxs(re,{className:"md:flex md:space-x-8 bg-  grid grid-cols-2 text-center gap-4   md:justify-center mb-10 ",children:[e.jsx(R,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 hover:shadow-purple-700 border-purple-500 text-purple-500 rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]  px-5 py-1.5 text-center bg-[#605d5d12] ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Ke,{}),"Products"]})})}),e.jsx(R,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 border-pink-500 bg-[#605d5d12] text-pink-500  hover:shadow-pink-700  rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]    px-5 py-1.5 text-center ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(De,{})," Order"]})})}),e.jsx(R,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 border-green-500 bg-[#605d5d12] text-green-500 rounded-lg text-xl  hover:shadow-green-700 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]   px-5 py-1.5 text-center ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(_e,{})," Users"]})})})]}),e.jsx(U,{children:e.jsx(Ge,{product:s,deleteProduct:d,edithandle:n})}),e.jsx(U,{children:e.jsx(Qe,{order:i})}),e.jsx(U,{children:e.jsx(Ve,{user:u})})]})})})})}function rt(){c.useContext(ge);const[t,a]=c.useState({totalProducts:0,totalOrders:0,totalUsers:0});c.useEffect(()=>{(async()=>{try{const u=G(W,"products"),x=G(W,"order"),m=G(W,"users"),f=await q(u),o=await q(x),y=await q(m),h=f.size,p=o.size,j=y.size;a({totalProducts:h,totalOrders:p,totalUsers:j})}catch(u){console.error("Error fetching data:",u)}})()},[]);const{totalProducts:s,totalOrders:n,totalUsers:d}=t;return e.jsx(Le,{children:e.jsxs("section",{className:"text-gray-600 body-font flex flex-col justify-center items-center",children:[e.jsx("div",{className:"container mx-auto px-4 mb-10",children:e.jsxs("div",{className:"flex flex-wrap -m-4 text-center",children:[e.jsx(X,{icon:e.jsx(V,{size:50}),count:s,label:"Total Products"}),e.jsx(X,{icon:e.jsx(V,{size:50}),count:n,label:"Total Orders"}),e.jsx(X,{icon:e.jsx(V,{size:50}),count:d,label:"Total Users"})]})}),e.jsx(We,{})]})})}const X=({icon:t,count:a,label:s})=>e.jsx("div",{className:"p-4 md:w-1/3 sm:w-1/2 w-full",children:e.jsxs("div",{className:"border-2 hover:shadow-purple-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] bg-gray-100 border-gray-300 px-4 py-3 rounded-xl",children:[e.jsx("div",{className:"text-purple-500 w-12 h-12 mb-3 inline-block",viewBox:"0 0 24 24",children:t}),e.jsx("h2",{className:"title-font font-medium text-3xl text-black",children:a}),e.jsx("p",{className:" text-purple-500 font-bold",children:s})]})});export{rt as default};
