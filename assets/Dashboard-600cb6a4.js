import{r as c,R as _,f as Ne,j as e,Q as ee,L as _e}from"./index-91e4566e.js";import{G as Re,a as he,F as Le,L as Ee,b as te}from"./Layout-87ba07b9.js";import{m as ve}from"./myContext-58528e02.js";import"./index-bea2a320-8c0c8ce8.js";import{d as He,f as M,u as $e,q as be,w as ge,c as F,g as B}from"./FirebaseConfig-863835c9.js";import"./index-b548e56c.js";import{g as Oe}from"./index.esm2017-dfb43fad.js";import Ae from"./Loader-d3f9bc3d.js";function ne(t){return r=>!!r.type&&r.type.tabsRole===t}const G=ne("Tab"),oe=ne("TabList"),ce=ne("TabPanel");function Me(t){return G(t)||oe(t)||ce(t)}function ae(t,r){return c.Children.map(t,s=>s===null?null:Me(s)?r(s):s.props&&s.props.children&&typeof s.props.children=="object"?c.cloneElement(s,{...s.props,children:ae(s.props.children,r)}):s)}function we(t,r){return c.Children.forEach(t,s=>{s!==null&&(G(s)||ce(s)?r(s):s.props&&s.props.children&&typeof s.props.children=="object"&&(oe(s)&&r(s),we(s.props.children,r)))})}function Ce(t){var r,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var f=t.length;for(r=0;r<f;r++)t[r]&&(s=Ce(t[r]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function W(){for(var t,r,s=0,n="",f=arguments.length;s<f;s++)(t=arguments[s])&&(r=Ce(t))&&(n&&(n+=" "),n+=r);return n}function Se(t){let r=0;return we(t,s=>{G(s)&&r++}),r}function Pe(t){return t&&"getAttribute"in t}function ye(t){return Pe(t)&&t.getAttribute("data-rttab")}function A(t){return Pe(t)&&t.getAttribute("aria-disabled")==="true"}let V;function Ue(t){const r=t||(typeof window<"u"?window:void 0);try{V=!!(typeof r<"u"&&r.document&&r.document.activeElement)}catch{V=!1}}const qe={className:"react-tabs",focus:!1},ke=t=>{let r=c.useRef([]),s=c.useRef([]);const n=c.useRef();function f(a,x){if(a<0||a>=g())return;const{onSelect:w,selectedIndex:U}=t;w(a,U,x)}function i(a){const x=g();for(let w=a+1;w<x;w++)if(!A(p(w)))return w;for(let w=0;w<a;w++)if(!A(p(w)))return w;return a}function m(a){let x=a;for(;x--;)if(!A(p(x)))return x;for(x=g();x-- >a;)if(!A(p(x)))return x;return a}function b(){const a=g();for(let x=0;x<a;x++)if(!A(p(x)))return x;return null}function h(){let a=g();for(;a--;)if(!A(p(a)))return a;return null}function g(){const{children:a}=t;return Se(a)}function p(a){return r.current[`tabs-${a}`]}function j(){let a=0;const{children:x,disabledTabClassName:w,focus:U,forceRenderTabPanel:P,selectedIndex:L,selectedTabClassName:E,selectedTabPanelClassName:ie,environment:ue}=t;s.current=s.current||[];let Te=s.current.length-g();const De=c.useId();for(;Te++<0;)s.current.push(`${De}${s.current.length}`);return ae(x,O=>{let X=O;if(oe(O)){let H=0,xe=!1;V==null&&Ue(ue);const me=ue||(typeof window<"u"?window:void 0);V&&me&&(xe=_.Children.toArray(O.props.children).filter(G).some((pe,Y)=>me.document.activeElement===p(Y))),X=c.cloneElement(O,{children:ae(O.props.children,pe=>{const Y=`tabs-${H}`,fe=L===H,Z={tabRef:Ie=>{r.current[Y]=Ie},id:s.current[H],selected:fe,focus:fe&&(U||xe)};return E&&(Z.selectedClassName=E),w&&(Z.disabledClassName=w),H++,c.cloneElement(pe,Z)})})}else if(ce(O)){const H={id:s.current[a],selected:L===a};P&&(H.forceRender=P),ie&&(H.selectedClassName=ie),a++,X=c.cloneElement(O,H)}return X})}function N(a){const{direction:x,disableUpDownKeys:w,disableLeftRightKeys:U}=t;if(y(a.target)){let{selectedIndex:P}=t,L=!1,E=!1;(a.code==="Space"||a.keyCode===32||a.code==="Enter"||a.keyCode===13)&&(L=!0,E=!1,u(a)),!U&&(a.keyCode===37||a.code==="ArrowLeft")||!w&&(a.keyCode===38||a.code==="ArrowUp")?(x==="rtl"?P=i(P):P=m(P),L=!0,E=!0):!U&&(a.keyCode===39||a.code==="ArrowRight")||!w&&(a.keyCode===40||a.code==="ArrowDown")?(x==="rtl"?P=m(P):P=i(P),L=!0,E=!0):a.keyCode===35||a.code==="End"?(P=h(),L=!0,E=!0):(a.keyCode===36||a.code==="Home")&&(P=b(),L=!0,E=!0),L&&a.preventDefault(),E&&f(P,a)}}function u(a){let x=a.target;do if(y(x)){if(A(x))return;const w=[].slice.call(x.parentNode.children).filter(ye).indexOf(x);f(w,a);return}while((x=x.parentNode)!=null)}function y(a){if(!ye(a))return!1;let x=a.parentElement;do{if(x===n.current)return!0;if(x.getAttribute("data-rttabs"))break;x=x.parentElement}while(x);return!1}const{children:C,className:D,disabledTabClassName:o,domRef:l,focus:d,forceRenderTabPanel:v,onSelect:k,selectedIndex:S,selectedTabClassName:R,selectedTabPanelClassName:Q,environment:T,disableUpDownKeys:$,disableLeftRightKeys:I,...J}={...qe,...t};return _.createElement("div",Object.assign({},J,{className:W(D),onClick:u,onKeyDown:N,ref:a=>{n.current=a,l&&l(a)},"data-rttabs":!0}),j())};ke.propTypes={};const ze=0,K=1,Fe={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},Be=t=>t.selectedIndex===null?K:ze,le=t=>{const{children:r,defaultFocus:s,defaultIndex:n,focusTabOnClick:f,onSelect:i,...m}={...Fe,...t},[b,h]=c.useState(s),[g]=c.useState(Be(m)),[p,j]=c.useState(g===K?n||0:null);if(c.useEffect(()=>{h(!1)},[]),g===K){const y=Se(r);c.useEffect(()=>{if(p!=null){const C=Math.max(0,y-1);j(Math.min(p,C))}},[y])}const N=(y,C,D)=>{typeof i=="function"&&i(y,C,D)===!1||(f&&h(!0),g===K&&j(y))};let u={...t,...m};return u.focus=b,u.onSelect=N,p!=null&&(u.selectedIndex=p),delete u.defaultFocus,delete u.defaultIndex,delete u.focusTabOnClick,_.createElement(ke,u,r)};le.propTypes={};le.tabsRole="Tabs";const Qe={className:"react-tabs__tab-list"},de=t=>{const{children:r,className:s,...n}={...Qe,...t};return _.createElement("ul",Object.assign({},n,{className:W(s),role:"tablist"}),r)};de.tabsRole="TabList";de.propTypes={};const se="react-tabs__tab",Ke={className:se,disabledClassName:`${se}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${se}--selected`},q=t=>{let r=c.useRef();const{children:s,className:n,disabled:f,disabledClassName:i,focus:m,id:b,selected:h,selectedClassName:g,tabIndex:p,tabRef:j,...N}={...Ke,...t};return c.useEffect(()=>{h&&m&&r.current.focus()},[h,m]),_.createElement("li",Object.assign({},N,{className:W(n,{[g]:h,[i]:f}),ref:u=>{r.current=u,j&&j(u)},role:"tab",id:`tab${b}`,"aria-selected":h?"true":"false","aria-disabled":f?"true":"false","aria-controls":`panel${b}`,tabIndex:p||(h?"0":null),"data-rttab":!0}),s)};q.propTypes={};q.tabsRole="Tab";const je="react-tabs__tab-panel",Ve={className:je,forceRender:!1,selectedClassName:`${je}--selected`},z=t=>{const{children:r,className:s,forceRender:n,id:f,selected:i,selectedClassName:m,...b}={...Ve,...t};return _.createElement("div",Object.assign({},b,{className:W(s,{[m]:i}),role:"tabpanel",id:`panel${f}`,"aria-labelledby":`tab${f}`}),n||i?r:null)};z.tabsRole="TabPanel";z.propTypes={};function Ge(t){return Re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 10h-2V8h2v2zm0-4h-2V1h2v5zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03L21 4.96 19.25 4l-3.7 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"}}]})(t)}function We({order:t}){const[r,s]=c.useState("date"),[n,f]=c.useState(!1),[i,m]=c.useState(0),b=5,[h,g]=c.useState([]);c.useEffect(()=>{(async()=>{const l=await Promise.all(t.map(d=>p(d.uniqueOrderId)));g(l)})()},[t]);const p=async o=>{const l=be(F(M,"order"),ge("uniqueOrderId","==",o)),d=await B(l);return d.empty?"Pending":d.docs[0].data().status},j=c.useMemo(()=>[{Header:"Payment Id",accessor:"uniqueOrderId"},{Header:"Total",accessor:"grandTotal"},{Header:"Name",accessor:o=>o.addressInfo.name},{Header:"Address",accessor:o=>`${o.addressInfo.roomNo||""}, ${o.addressInfo.society||""}, ${o.addressInfo.street||""}, ${o.addressInfo.city||""}, ${o.addressInfo.pincode}`},{Header:"Phone Number",accessor:o=>o.addressInfo.phoneNumber},{Header:"Email",accessor:"email"},{Header:"Product Info",accessor:o=>{const l=o.cartItems.map(d=>{const v=d.colors.find(S=>S.hex===d.selectedColor),k=v?v.name:"Unknown Color";return`
            <div style="margin-bottom: 20px; border-bottom: 1px solid #ddd; padding-bottom: 10px;">
              <div style="text-align: center;">
                <img src="${d.imageUrls[0]}" alt="${d._id}" style="max-width: 150px; height: auto; display: block; margin: 0 auto;" />
              </div>
              <div style="text-align: center;">
                <div><strong>Product Name:</strong> ${d._id}</div>
                <div><strong>Category:</strong> ${d.category}</div>
                <div><strong>Color:</strong> ${k}</div>
                <div><strong>Size:</strong> ${d.selectedSize}</div>
                <div><strong>Quantity:</strong> ${d.quantity}</div>
              </div>
            </div>
          `}).join("<br/><br/>");return e.jsx("div",{dangerouslySetInnerHTML:{__html:l}})}},{Header:"Payment Status",accessor:(o,l)=>e.jsxs("select",{onChange:async d=>{const v=d.target.value,k=o.uniqueOrderId,S=[...h];S[l]=v,g(S);try{const R=await N(k);if(R){const Q=He(M,"order",R);await $e(Q,{status:v}),ee.success(`Payment status updated to ${v} for order ${k}`),window.location.reload()}else ee.error("Order document not found for uniqueOrderId: "+k)}catch(R){console.error("Error updating payment status:",R),ee.error("Error updating payment status. Please try again."),S[l]=h[l],g(S)}},children:[e.jsx("option",{value:"",selected:!0,children:"Change Status"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Received",children:"Received"})]})},{Header:"Current Payment Status",accessor:o=>o.status||"Pending"},{Header:"Shipping Status",accessor:o=>o.shippingStatus||"Pending"},{Header:"Date",accessor:o=>new Date(o.date).toLocaleString()}],[h]),N=async o=>{const l=be(F(M,"order"),ge("uniqueOrderId","==",o)),d=await B(l);return d.empty?null:d.docs[0].id},u=o=>{o===r?f(!n):(s(o),f(!1))},y=c.useMemo(()=>[...t].sort((l,d)=>l[r]<d[r]?n?1:-1:l[r]>d[r]?n?-1:1:0),[t,r,n]),C=y.slice(i*b,(i+1)*b),D=Math.ceil(y.length/b);return e.jsxs("div",{className:"px-4 md:px-0 mb-16",style:{marginBottom:"10rem"},children:[e.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",children:"Order Details"}),e.jsxs("div",{className:"relative overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-black uppercase bg-gray-200 border border-gray-600 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",children:e.jsx("tr",{children:j.map(o=>e.jsxs("th",{onClick:()=>u(o.accessor),className:"px-4 py-2 cursor-pointer",children:[o.Header,r===o.accessor?n?" ▼":" ▲":""]},o.Header))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map((o,l)=>e.jsx("tr",{className:"hover:bg-gray-100 transition-colors duration-200",children:j.map((d,v)=>e.jsx("td",{className:"px-4 py-2",children:d.accessor instanceof Function?d.accessor(o,l):o[d.accessor]},v))},l))})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 px-4 py-2 bg-gray-200",children:[e.jsx("button",{onClick:()=>m(o=>Math.max(o-1,0)),disabled:i===0,className:`px-4 py-2 rounded-lg ${i>0?"bg-[#3C2A21] text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Previous"}),e.jsxs("span",{className:"mx-4 text-gray-600",children:["Page ",e.jsx("strong",{children:i+1})," of ",e.jsx("strong",{children:D})]}),e.jsx("button",{onClick:()=>m(o=>Math.min(o+1,D-1)),disabled:i>=D-1,className:`px-4 py-2 rounded-lg ${i<D-1?"bg-[#3C2A21] text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Next"})]})]})]})}function Je({user:t}){const[r,s]=c.useState("name"),[n,f]=c.useState(!1),[i,m]=c.useState(0),b=5,h=_.useMemo(()=>[{Header:"Uid",accessor:"uid"},{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"}],[]),g=u=>{u===r?f(!n):(s(u),f(!1))},p=_.useMemo(()=>[...t].sort((y,C)=>y[r]<C[r]?n?1:-1:y[r]>C[r]?n?-1:1:0),[t,r,n]),j=p.slice(i*b,(i+1)*b),N=Math.ceil(p.length/b);return e.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[e.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",children:"User Details"}),e.jsxs("div",{className:"relative overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-black uppercase bg-gray-200 border border-gray-600 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",children:e.jsx("tr",{children:h.map(u=>e.jsxs("th",{onClick:()=>g(u.accessor),className:"px-4 py-2 cursor-pointer",children:[u.Header,r===u.accessor?n?" ▼":" ▲":""]},u.Header))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map((u,y)=>e.jsx("tr",{className:"hover:bg-gray-100 transition-colors duration-200",children:h.map(C=>e.jsx("td",{className:"px-4 py-2",children:u[C.accessor]},C.Header))},y))})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 px-4 py-2 bg-gray-200",children:[e.jsx("button",{onClick:()=>m(u=>Math.max(u-1,0)),disabled:i===0,className:`px-4 py-2 rounded-lg ${i>0?"bg-[#3C2A21] text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Previous"}),e.jsxs("span",{className:"mx-4 text-gray-600",children:["Page ",e.jsx("strong",{children:i+1})," of ",e.jsx("strong",{children:N})]}),e.jsx("button",{onClick:()=>m(u=>Math.min(u+1,N-1)),disabled:i>=N-1,className:`px-4 py-2 rounded-lg ${i<N-1?"bg-[#3C2A21] text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Next"})]})]})]})}function Xe({product:t,deleteProduct:r,edithandle:s}){const[n,f]=c.useState("title"),[i,m]=c.useState(!1),[b,h]=c.useState(0),g=5,p=Ne(),[j,N]=c.useState(""),[u,y]=c.useState(!1),[C,D]=c.useState(!1);Oe();const o=T=>T.sort(($,I)=>$[n]<I[n]?i?1:-1:$[n]>I[n]?i?-1:1:0),l=T=>{const $=b*g;return T.slice($,$+g)},d=Math.ceil(t.length/g),v=()=>{b>0&&h(T=>T-1)},k=()=>{b<d-1&&h(T=>T+1)},S=()=>{const T=o(t);return l(T).map((I,J)=>e.jsxs("tr",{className:"bg-gray-50 border-b dark:border-gray-700",children:[e.jsx("td",{className:"px-6 py-4 text-black",children:I._id}),e.jsx("td",{className:"px-6 py-4 font-medium text-black whitespace-nowrap",children:e.jsx("img",{className:"w-16",src:I.imageUrls[0],alt:"Product"})}),e.jsxs("td",{className:"px-6 py-4 text-black",children:["₹",I.price]}),e.jsx("td",{className:"px-6 py-4 text-black",children:I.category}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2 cursor-pointer text-black",children:[e.jsx("div",{onClick:()=>r(I),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),e.jsx("div",{onClick:()=>s(I),children:e.jsx(_e,{to:"/updateproduct",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})})})]})})]},J))},R=T=>{T===n?m(!i):(f(T),m(!1))},Q=()=>{D(!1)};return e.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[e.jsx("h1",{className:"text-center mb-2 text-3xl font-semibold underline",children:"Product Details"}),u&&e.jsx(Ae,{}),e.jsx("div",{className:"flex justify-center text-center ",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>p("/addproduct"),type:"button",className:"focus:outline-none text-white bg-black shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] border hover:bg-pink-700 outline-0 font-medium rounded-lg text-sm px-5 py-2.5 mb-2",children:"Add Product"})})}),e.jsxs("div",{className:"relative overflow-x-auto",children:[e.jsx("div",{className:"relative overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs border border-gray-600 text-black uppercase bg-gray-200 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>R("title"),children:["Title ",n==="title"&&e.jsx("span",{children:i?"▼":"▲"})]}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Image"}),e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>R("price"),children:["Price ",n==="price"&&e.jsx("span",{children:i?"▼":"▲"})]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 cursor-pointer",onClick:()=>R("category"),children:["Category ",n==="category"&&e.jsx("span",{children:i?"▼":"▲"})]}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:S()})]})}),e.jsxs("div",{className:"flex justify-center mt-4",style:{marginBottom:"5rem"},children:[e.jsx("button",{onClick:v,disabled:b===0,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-l-md mr-2",children:"Prev"}),e.jsx("button",{onClick:k,disabled:b===d-1,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-r-md",children:"Next"})]})]}),C&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-75 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Image Uploaded Successfully"}),e.jsx("p",{children:"Download URL:"}),e.jsx("input",{type:"text",value:j,readOnly:!0,className:"w-full bg-gray-100 border border-gray-300 rounded px-3 py-2 mt-2 mb-4"}),e.jsx("button",{onClick:Q,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Close"})]})})]})}function Ye(){const[t,r]=c.useState([]),[s,n]=c.useState(!0),[f,i]=c.useState(null),[m,b]=c.useState("createdAt"),[h,g]=c.useState(!1),[p,j]=c.useState(0),N=5;c.useEffect(()=>{(async()=>{try{const d=F(M,"cancelRequests"),k=(await B(d)).docs.map(S=>({id:S.id,...S.data()}));r(k)}catch(d){i(d)}finally{n(!1)}})()},[]);const u=_.useMemo(()=>[{Header:"Order ID",accessor:"uniqueOrderId"},{Header:"Reason for Cancellation/Return",accessor:"reason"},{Header:"Product Photo",accessor:l=>e.jsx("img",{src:l.productPhoto,alt:"Product",style:{width:"100px",height:"auto"}})},{Header:"Full Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Phone Number",accessor:"phoneNumber"},{Header:"Date",accessor:l=>{const d=l.createdAt&&l.createdAt.toDate();return d?d.toLocaleString():"N/A"}}],[]),y=l=>{l===m?g(!h):(b(l),g(!1))},C=_.useMemo(()=>t?[...t].sort((d,v)=>{const k=d[m],S=v[m];return k<S?h?1:-1:k>S?h?-1:1:0}):[],[t,m,h]),D=C.slice(p*N,(p+1)*N),o=Math.ceil(C.length/N);return s?e.jsx("p",{children:"Loading..."}):f?e.jsxs("p",{children:["Error: ",f.message]}):e.jsxs("div",{className:"px-4 md:px-0 mb-16",style:{marginBottom:"10rem"},children:[e.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",children:"Cancellation Requests"}),e.jsxs("div",{className:"relative overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-black uppercase bg-gray-200 border border-gray-600 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",children:e.jsx("tr",{children:u.map(l=>e.jsxs("th",{onClick:()=>y(l.accessor),className:"px-4 py-2 cursor-pointer",children:[l.Header,m===l.accessor?h?" ▼":" ▲":""]},l.Header))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map((l,d)=>e.jsx("tr",{className:"hover:bg-gray-100 transition-colors duration-200",children:u.map(v=>e.jsx("td",{className:"px-4 py-2",children:v.accessor instanceof Function?v.accessor(l):l[v.accessor]},v.Header))},d))})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 px-4 py-2 bg-gray-200",children:[e.jsx("button",{onClick:()=>j(l=>Math.max(l-1,0)),disabled:p===0,className:`px-4 py-2 rounded-lg ${p>0?"bg-[#3C2A21] text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Previous"}),e.jsxs("span",{className:"mx-4 text-gray-600",children:["Page ",e.jsx("strong",{children:p+1})," of ",e.jsx("strong",{children:o})]}),e.jsx("button",{onClick:()=>j(l=>Math.min(l+1,o-1)),disabled:p>=o-1,className:`px-4 py-2 rounded-lg ${p<o-1?"bg-[#3C2A21] text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Next"})]})]})]})}function Ze(){const t=c.useContext(ve),{mode:r,product:s,edithandle:n,deleteProduct:f,order:i,user:m,look:b,deleteLook:h}=t;return c.useState(!1),Ne(),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"tab container mx-auto ",children:e.jsxs(le,{defaultIndex:0,className:" ",children:[e.jsxs(de,{className:"md:flex md:space-x-8 bg-  grid grid-cols-2 text-center gap-4   md:justify-center mb-10 ",children:[e.jsx(q,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 hover:shadow-purple-700 border-purple-500 text-purple-500 rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]  px-5 py-1.5 text-center bg-[#605d5d12] ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Ge,{}),"Products"]})})}),e.jsx(q,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 border-pink-500 bg-[#605d5d12] text-pink-500  hover:shadow-pink-700  rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]    px-5 py-1.5 text-center ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{})," Order"]})})}),e.jsx(q,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 border-pink-500 bg-[#605d5d12] text-pink-500  hover:shadow-pink-700  rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]    px-5 py-1.5 text-center ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{})," Cancel Request"]})})}),e.jsx(q,{children:e.jsx("button",{type:"button",className:"font-medium border-b-2 border-green-500 bg-[#605d5d12] text-green-500 rounded-lg text-xl  hover:shadow-green-700 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]   px-5 py-1.5 text-center ",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Le,{})," Users"]})})})]}),e.jsx(z,{children:e.jsx(Xe,{product:s,deleteProduct:f,edithandle:n})}),e.jsx(z,{children:e.jsx(We,{order:i})}),e.jsx(z,{children:e.jsx(Ye,{})}),e.jsx(z,{children:e.jsx(Je,{user:m})})]})})})})}function lt(){c.useContext(ve);const[t,r]=c.useState({totalProducts:0,totalOrders:0,totalUsers:0});c.useEffect(()=>{(async()=>{try{const m=F(M,"products"),b=F(M,"order"),h=F(M,"users"),g=await B(m),p=await B(b),j=await B(h),N=g.size,u=p.size,y=j.size;r({totalProducts:N,totalOrders:u,totalUsers:y})}catch(m){console.error("Error fetching data:",m)}})()},[]);const{totalProducts:s,totalOrders:n,totalUsers:f}=t;return e.jsx(Ee,{children:e.jsxs("section",{className:"text-gray-600 body-font flex flex-col justify-center items-center",children:[e.jsx("div",{className:"container mx-auto px-4 mb-10",children:e.jsxs("div",{className:"flex flex-wrap -m-4 text-center",children:[e.jsx(re,{icon:e.jsx(te,{size:50}),count:s,label:"Total Products"}),e.jsx(re,{icon:e.jsx(te,{size:50}),count:n,label:"Total Orders"}),e.jsx(re,{icon:e.jsx(te,{size:50}),count:f,label:"Total Users"})]})}),e.jsx(Ze,{})]})})}const re=({icon:t,count:r,label:s})=>e.jsx("div",{className:"p-4 md:w-1/3 sm:w-1/2 w-full",children:e.jsxs("div",{className:"border-2 hover:shadow-purple-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] bg-gray-100 border-gray-300 px-4 py-3 rounded-xl",children:[e.jsx("div",{className:"text-purple-500 w-12 h-12 mb-3 inline-block",viewBox:"0 0 24 24",children:t}),e.jsx("h2",{className:"title-font font-medium text-3xl text-black",children:r}),e.jsx("p",{className:" text-purple-500 font-bold",children:s})]})});export{lt as default};
