import{r as a,a as b,j as e,L as f,Q as r}from"./index-571aca11.js";import j from"./Loader-6b21a8b7.js";import{L as k,e as v,f as w}from"./Layout-ce9793e2.js";function L(){const[s,c]=a.useState(""),[l,d]=a.useState(""),[n,u]=a.useState(""),[o,g]=a.useState(!1),[p,x]=a.useState(!1),m=b(),y=async()=>{if(x(!0),s===""||l===""||n==="")return r.error("All fields are required");try{const t=await fetch("https://endpoints-ashy.vercel.app/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,email:l,password:n})}),i=await t.json();if(t.ok){const h={name:s,email:l,uid:i.userId,token:i.token};localStorage.setItem("user",JSON.stringify(h)),r.success("Signup Successful"),c(""),d(""),u(""),m("/")}else r.error(i.message||"Signup failed. Please try again.")}catch(t){console.error(t),r.error("Signup failed. Please try again later.")}finally{x(!1)}};return e.jsx(k,{children:e.jsxs("div",{className:"flex justify-center items-center",style:{marginBottom:"15rem",marginTop:"3rem",padding:"10px"},children:[p&&e.jsx(j,{}),e.jsxs("div",{className:"bg-gray-800 px-10 py-16 rounded-xl w-full max-w-md",style:{backgroundColor:"#3C2A21"},children:[e.jsx("div",{children:e.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Signup"})}),e.jsx("div",{children:e.jsx("input",{type:"text",value:s,onChange:t=>c(t.target.value),name:"name",className:"bg-gray-600 mb-4 px-2 py-2 w-full rounded-lg text-black placeholder:text-black-200",placeholder:"Name",style:{backgroundColor:"rgb(221, 213, 201)"}})}),e.jsx("div",{children:e.jsx("input",{type:"email",value:l,onChange:t=>d(t.target.value),name:"email",className:"bg-gray-600 mb-4 px-2 py-2 w-full rounded-lg text-black placeholder:text-black-200",placeholder:"Email",style:{backgroundColor:"rgb(221, 213, 201)"}})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",value:n,onChange:t=>u(t.target.value),className:"bg-gray-600 mb-4 px-2 py-2 w-full rounded-lg text-black placeholder:text-black-200",placeholder:"Password",style:{backgroundColor:"rgb(221, 213, 201)"}}),e.jsx("button",{type:"button",onClick:()=>g(!o),className:"absolute inset-y-0 right-0 px-4 text-black rounded-r-lg focus:outline-none flex items-center justify-center",style:{marginBottom:"15px"},children:o?e.jsx(v,{}):e.jsx(w,{})})]})}),e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("button",{onClick:y,className:"bg-black w-full text-white font-bold px-2 py-2 rounded-lg",style:{backgroundColor:"rgb(221, 213, 201)",color:"#3C2A21"},children:"Signup"})}),e.jsx("div",{children:e.jsxs("h2",{className:"text-white text-sm flex justify-center items-center",style:{marginTop:"2rem"},children:["Already have an account?"," ",e.jsx(f,{className:"text-black font-bold px-1",to:"/login",style:{transition:"transform 0.3s ease-in-out",display:"inline-block",color:"rgb(221, 213, 201)"},children:"Login"})]})})]})]})})}export{L as default};
