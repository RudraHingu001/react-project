import{j as e,r as l,h as A,u as z,Q as y,i as D}from"./index-038ae0ab.js";import{L as I,d as P}from"./Layout-8f1a5044.js";import{m as Q}from"./myContext-0f57f61c.js";import{q as W,c as L,f as M,w as E,g as q}from"./FirebaseConfig-78838216.js";import U from"./Loader-d720338f.js";import{u as F}from"./useDispatch-4454651c.js";import"./index-bea2a320-27c10d2f.js";const H=({showModal:i,setShowModal:o})=>i?e.jsx("div",{className:"fixed top-0 left-0 z-50 w-full h-full flex items-center justify-center bg-black bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg w-80 relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-black text-lg transition duration-300 hover:text-gray-400 transform hover:scale-110",onClick:()=>o(!1),children:"Close"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Size Chart"}),e.jsxs("table",{className:"table-auto w-full text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-1",children:"Size"}),e.jsx("th",{className:"px-2 py-1",children:"XS"}),e.jsx("th",{className:"px-2 py-1",children:"S"}),e.jsx("th",{className:"px-2 py-1",children:"M"}),e.jsx("th",{className:"px-2 py-1",children:"L"}),e.jsx("th",{className:"px-2 py-1",children:"XL"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1",children:"Chest"}),e.jsx("td",{className:"border px-2 py-1",children:"32"}),e.jsx("td",{className:"border px-2 py-1",children:"34"}),e.jsx("td",{className:"border px-2 py-1",children:"36"}),e.jsx("td",{className:"border px-2 py-1",children:"38"}),e.jsx("td",{className:"border px-2 py-1",children:"40"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1",children:"Waist"}),e.jsx("td",{className:"border px-2 py-1",children:"24"}),e.jsx("td",{className:"border px-2 py-1",children:"26"}),e.jsx("td",{className:"border px-2 py-1",children:"28"}),e.jsx("td",{className:"border px-2 py-1",children:"30"}),e.jsx("td",{className:"border px-2 py-1",children:"32"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1",children:"Hip"}),e.jsx("td",{className:"border px-2 py-1",children:"35"}),e.jsx("td",{className:"border px-2 py-1",children:"37"}),e.jsx("td",{className:"border px-2 py-1",children:"38"}),e.jsx("td",{className:"border px-2 py-1",children:"41"}),e.jsx("td",{className:"border px-2 py-1",children:"43"})]})]})]})]})}):null;function J(){const i=l.useContext(Q),{loading:o,setLoading:c}=i,[t,f]=l.useState(null),[b,h]=l.useState(""),[n,g]=l.useState(""),[d,N]=l.useState(""),[p,C]=l.useState(1),[v,u]=l.useState(!1),x=A();l.useEffect(()=>{(async()=>{c(!0);try{console.log("Querying for product with ID:",x.id);const a=W(L(M,"products"),E("_id","==",x.id)),r=await q(a);r.empty?console.log("No matching documents."):r.forEach(m=>{console.log("Document data:",m.data()),f(m.data()),h(m.data().imageUrls[0])}),c(!1)}catch(a){console.log(a),c(!1)}})()},[x.id,c]);const w=F();z(s=>s.cart);const S=()=>{if(!n){y.error("Please select a size.");return}if(!d){y.error("Please select a color.");return}w(D({...t,selectedSize:n,selectedColor:d,quantity:p}))},k=s=>{h(s)},j=s=>{C(a=>{const r=a+s;return r<1?1:r})};return e.jsx(I,{children:e.jsx("section",{className:"text-gray-600 body-font overflow-hidden",children:e.jsxs("div",{className:"container px-5 py-8 mx-auto",children:[o?e.jsx(U,{}):t&&e.jsxs("div",{className:"lg:w-4/5 mx-auto flex flex-wrap",children:[e.jsx("div",{className:"lg:w-1/2 w-full relative",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"cursor-pointer",style:{maxHeight:"400px",width:"100%"},children:e.jsx("img",{alt:"ecommerce",className:"w-full h-full object-cover object-center rounded-lg shadow-xl transition transform hover:scale-105 duration-300",src:b,style:{maxHeight:"300px",objectFit:"contain"}})}),e.jsx("div",{className:"flex mt-4 space-x-2",children:t.imageUrls&&t.imageUrls.map((s,a)=>e.jsx("img",{src:s,alt:`product-${a}`,className:"w-16 h-16 object-cover rounded cursor-pointer",onClick:()=>k(s)},a))})]})}),e.jsxs("div",{className:"lg:w-1/2 w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0",children:[e.jsx("h2",{className:"text-sm title-font text-gray-500 tracking-widest mb-2",style:{color:"#3C2A21"},children:"BRAND NAME"}),e.jsx("h1",{className:"text-gray-900 text-3xl title-font font-medium mb-2",style:{color:"#3C2A21"},children:t._id}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsxs("span",{className:"title-font font-medium text-2xl text-gray-900 mr-4",style:{color:"#3C2A21"},children:["â‚¹",t.price]}),e.jsx("button",{onClick:S,className:"bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-600 focus:bg-gray-600 focus:ring focus:ring-black focus:ring-opacity-0 focus:outline-none transition-colors duration-200",children:"Add To Cart"})]}),e.jsxs("div",{className:"mt-4 flex items-center mb-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",style:{minWidth:"150px"},children:"Available Sizes:"}),e.jsxs("button",{onClick:()=>u(!0),className:"ml-2 text-gray-700 cursor-pointer text-sm border border-gray-400 px-2 py-1 rounded-md flex items-center",children:[e.jsx(P,{className:"mr-1"}),"Size Chart"]}),e.jsx("div",{className:"flex space-x-2 mt-2 px-2",children:t.sizes&&t.sizes.map((s,a)=>e.jsx("button",{onClick:()=>g(s),className:`px-3 py-1 rounded ${n===s?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:s.toUpperCase()},a))})]}),e.jsxs("div",{className:"mt-4 flex flex-col mb-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Available Colors:"}),e.jsx("div",{className:"flex flex-wrap space-x-2 px-2",children:t.colors&&t.colors.map((s,a)=>e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsx("button",{onClick:()=>N(s),className:`w-6 h-6 rounded-full ${d===s?"ring-2 ring-black":""}`,style:{backgroundColor:s}})},a))})]}),e.jsxs("div",{className:"mt-4 flex items-center mb-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",style:{minWidth:"150px"},children:"Quantity:"}),e.jsxs("div",{className:"flex space-x-2 items-center px-2",children:[e.jsx("button",{onClick:()=>j(-1),className:"bg-gray-200 text-gray-800 px-3 py-1 rounded",children:"-"}),e.jsx("span",{children:p}),e.jsx("button",{onClick:()=>j(1),className:"bg-gray-200 text-gray-800 px-3 py-1 rounded",children:"+"})]})]}),e.jsxs("div",{className:"mt-4 flex flex-col mb-4",children:[e.jsxs("div",{className:"flex mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",style:{minWidth:"150px"},children:"Description:"}),e.jsx("p",{className:"leading-relaxed",style:{color:"#3C2A21"},children:t.description})]}),e.jsxs("div",{className:"flex mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",style:{minWidth:"150px"},children:"Fabric:"}),e.jsx("p",{className:"leading-relaxed",style:{color:"#3C2A21"},children:t.fabric})]}),e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",style:{minWidth:"150px"},children:"Wash Care Instructions:"}),e.jsx("p",{className:"leading-relaxed",style:{color:"#3C2A21"},children:t.washCareInstructions})]})]})]})]}),e.jsx(H,{showModal:v,setShowModal:u})," "]})})})}export{J as default};
